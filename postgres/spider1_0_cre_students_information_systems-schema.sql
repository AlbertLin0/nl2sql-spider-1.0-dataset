
CREATE TABLE "addresses" (
  "address_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "address_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("address_id")
) ;



CREATE TABLE "teachers" (
  "teacher_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "teacher_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("teacher_id")
) ;

CREATE TABLE "students" (
  "student_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "bio_data" varchar(255)  NOT NULL,
  "student_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("student_id")
) ;

CREATE TABLE "ref_achievement_type" (
  "achievement_type_code" char(15)  NOT NULL,
  "achievement_type_description" varchar(80)  DEFAULT NULL,
  PRIMARY KEY ("achievement_type_code")
) ;


CREATE TABLE "behaviour_monitoring" (
  "behaviour_monitoring_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "student_id" int NOT NULL,
  "behaviour_monitoring_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("behaviour_monitoring_id"),
  CONSTRAINT "behaviour_monitoring_fk_0_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;

CREATE TABLE "ref_address_types" (
  "address_type_code" char(10)  NOT NULL,
  "address_type_description" varchar(255)  NOT NULL,
  PRIMARY KEY ("address_type_code")
) ;


CREATE TABLE "ref_detention_type" (
  "detention_type_code" char(10)  NOT NULL,
  "detention_type_description" varchar(80)  DEFAULT NULL,
  PRIMARY KEY ("detention_type_code")
) ;


CREATE TABLE "ref_event_types" (
  "event_type_code" char(10)  NOT NULL,
  "event_type_description" varchar(255)  NOT NULL,
  PRIMARY KEY ("event_type_code")
) ;

CREATE TABLE "achievements" (
  "achievement_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "achievement_type_code" char(15) NOT NULL,
  "student_id" int NOT NULL,
  "date_achievement" TIMESTAMP(6) DEFAULT NULL,
  "achievement_details" varchar(255)  DEFAULT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("achievement_id"),
  CONSTRAINT "achievements_fk_0_0" FOREIGN KEY ("achievement_type_code") REFERENCES "ref_achievement_type" ("achievement_type_code"),
  CONSTRAINT "achievements_fk_1_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;

CREATE TABLE "student_events" (
  "event_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "event_type_code" char(10)  NOT NULL,
  "student_id" int NOT NULL,
  "event_date" TIMESTAMP(6) DEFAULT NULL,
  "other_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("event_id"),
  CONSTRAINT "student_events_fk_0_0" FOREIGN KEY ("event_type_code") REFERENCES "ref_event_types" ("event_type_code"),
  CONSTRAINT "student_events_fk_1_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;


CREATE TABLE "student_loans" (
  "student_loan_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "student_id" int NOT NULL,
  "date_of_loan" TIMESTAMP(6) DEFAULT NULL,
  "amount_of_loan" NUMERIC(15,4) DEFAULT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("student_loan_id"),
  CONSTRAINT "student_loans_fk_0_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;



CREATE TABLE "classes" (
  "class_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "student_id" int NOT NULL,
  "teacher_id" int NOT NULL,
  "class_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("class_id"),
  CONSTRAINT "classes_fk_0_0" FOREIGN KEY ("teacher_id") REFERENCES "teachers" ("teacher_id"),
  CONSTRAINT "classes_fk_1_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;


CREATE TABLE "detention" (
  "detention_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "detention_type_code" char(10)  NOT NULL,
  "student_id" int NOT NULL,
  "datetime_detention_start" TIMESTAMP(6) DEFAULT NULL,
  "datetime_detention_end" TIMESTAMP(6) DEFAULT NULL,
  "detention_summary" varchar(255)  DEFAULT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("detention_id"),
  CONSTRAINT "detention_fk_0_0" FOREIGN KEY ("detention_type_code") REFERENCES "ref_detention_type" ("detention_type_code"),
  CONSTRAINT "detention_fk_1_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;



CREATE TABLE "students_addresses" (
  "student_address_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "address_id" int NOT NULL,
  "address_type_code" char(10)  NOT NULL,
  "student_id" int NOT NULL,
  "date_from" TIMESTAMP(6) DEFAULT NULL,
  "date_to" TIMESTAMP(6) DEFAULT NULL,
  PRIMARY KEY ("student_address_id"),
  CONSTRAINT "students_addresses_fk_0_0" FOREIGN KEY ("address_type_code") REFERENCES "ref_address_types" ("address_type_code"),
  CONSTRAINT "students_addresses_fk_1_0" FOREIGN KEY ("address_id") REFERENCES "addresses" ("address_id"),
  CONSTRAINT "students_addresses_fk_2_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;




CREATE TABLE "transcripts" (
  "transcript_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "student_id" int NOT NULL,
  "date_of_transcript" TIMESTAMP(6) DEFAULT NULL,
  "transcript_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("transcript_id"),
  CONSTRAINT "transcripts_fk_0_0" FOREIGN KEY ("student_id") REFERENCES "students" ("student_id")
) ;


