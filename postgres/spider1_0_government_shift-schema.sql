CREATE TABLE "channels" (
  "channel_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "channel_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("channel_id")
) ;

CREATE TABLE "services" (
  "service_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "service_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("service_id")
) ;

CREATE TABLE "customers" (
  "customer_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "customer_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("customer_id")
) ;

CREATE TABLE "customers_and_services" (
  "customers_and_services_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "customer_id" int DEFAULT NULL,
  "service_id" int DEFAULT NULL,
  "customers_and_services_details" char(15)  NOT NULL,
  PRIMARY KEY ("customers_and_services_id"),
  CONSTRAINT "customers_and_services_fk_0_0" FOREIGN KEY ("customer_id") REFERENCES "customers" ("customer_id"),
  CONSTRAINT "customers_and_services_fk_1_0" FOREIGN KEY ("service_id") REFERENCES "services" ("service_id")
) ;


CREATE TABLE "analytical_layer" (
  "analytical_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "customers_and_services_id" int NOT NULL,
  "pattern_recognition" varchar(255)  NOT NULL,
  "analytical_layer_type_code" char(15)  DEFAULT NULL,
  PRIMARY KEY ("analytical_id"),
  CONSTRAINT "analytical_layer_fk_0_0" FOREIGN KEY ("customers_and_services_id") REFERENCES "customers_and_services" ("customers_and_services_id")
) ;



CREATE TABLE "customer_interactions" (
  "customer_interaction_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "channel_id" int DEFAULT NULL,
  "customer_id" int DEFAULT NULL,
  "service_id" int DEFAULT NULL,
  "status_code" char(15)  DEFAULT NULL,
  "services_and_channels_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("customer_interaction_id"),
  CONSTRAINT "customer_interactions_fk_0_0" FOREIGN KEY ("customer_id") REFERENCES "customers" ("customer_id"),
  CONSTRAINT "customer_interactions_fk_1_0" FOREIGN KEY ("channel_id") REFERENCES "channels" ("channel_id"),
  CONSTRAINT "customer_interactions_fk_2_0" FOREIGN KEY ("service_id") REFERENCES "services" ("service_id")
) ;






CREATE TABLE "integration_platform" (
  "integration_platform_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "customer_interaction_id" int NOT NULL,
  "integration_platform_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("integration_platform_id"),
  CONSTRAINT "integration_platform_fk_0_0" FOREIGN KEY ("customer_interaction_id") REFERENCES "customer_interactions" ("customer_interaction_id")
) ;




