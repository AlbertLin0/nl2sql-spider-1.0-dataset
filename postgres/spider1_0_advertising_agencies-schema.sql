
CREATE TABLE "agencies" (
  "agency_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "agency_details" varchar(255) NOT NULL,
  PRIMARY KEY ("agency_id")
) ;



CREATE TABLE "clients" (
  "client_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "agency_id" int NOT NULL,
  "sic_code" varchar(10)  NOT NULL,
  "client_details" varchar(255) NOT NULL,
  PRIMARY KEY ("client_id"),
  CONSTRAINT "clients_fk_0_0" FOREIGN KEY ("agency_id") REFERENCES "agencies" ("agency_id")
) ;


CREATE TABLE "invoices" (
  "invoice_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "client_id" int NOT NULL,
  "invoice_status" varchar(10)  NOT NULL,
  "invoice_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("invoice_id"),
  CONSTRAINT "invoices_fk_0_0" FOREIGN KEY ("client_id") REFERENCES "clients" ("client_id")
) ;



CREATE TABLE "meetings" (
  "meeting_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "client_id" int NOT NULL,
  "meeting_outcome" varchar(10)  NOT NULL,
  "meeting_type" varchar(10)  NOT NULL,
  "billable_yn" varchar(1)  DEFAULT NULL,
  "start_date_time" TIMESTAMP DEFAULT NULL,
  "end_date_time" TIMESTAMP DEFAULT NULL,
  "purpose_of_meeting" varchar(255)  DEFAULT NULL,
  "other_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("meeting_id"),
  CONSTRAINT "meetings_fk_0_0" FOREIGN KEY ("client_id") REFERENCES "clients" ("client_id")
) ;


CREATE TABLE "payments" (
  "payment_id" int NOT NULL,
  "invoice_id" int NOT NULL,
  "payment_details" varchar(255)  NOT NULL,
  CONSTRAINT "payments_fk_0_0" FOREIGN KEY ("invoice_id") REFERENCES "invoices" ("invoice_id")
);



CREATE TABLE "staff" (
  "staff_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "agency_id" int NOT NULL,
  "staff_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("staff_id")
) ;


CREATE TABLE "staff_in_meetings" (
  "meeting_id" int NOT NULL,
  "staff_id" int NOT NULL,
  CONSTRAINT "staff_in_meetings_fk_0_0" FOREIGN KEY ("staff_id") REFERENCES "staff" ("staff_id"),
  CONSTRAINT "staff_in_meetings_fk_1_0" FOREIGN KEY ("meeting_id") REFERENCES "meetings" ("meeting_id")
) ;


