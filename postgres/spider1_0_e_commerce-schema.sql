
CREATE TABLE "customers" (
  "customer_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "gender_code" varchar(1)  NOT NULL,
  "customer_first_name" varchar(50)  DEFAULT NULL,
  "customer_middle_initial" varchar(1)  DEFAULT NULL,
  "customer_last_name" varchar(50)  DEFAULT NULL,
  "email_address" varchar(255)  DEFAULT NULL,
  "login_name" varchar(80)  DEFAULT NULL,
  "login_password" varchar(20)  DEFAULT NULL,
  "phone_number" varchar(255)  DEFAULT NULL,
  "address_line_1" varchar(255)  DEFAULT NULL,
  "town_city" varchar(50)  DEFAULT NULL,
  "county" varchar(50)  DEFAULT NULL,
  "country" varchar(50)  DEFAULT NULL,
  PRIMARY KEY ("customer_id")
) ;


CREATE TABLE "invoices" (
  "invoice_number" INT GENERATED BY DEFAULT AS IDENTITY,
  "invoice_status_code" varchar(10)  NOT NULL,
  "invoice_date" TIMESTAMP DEFAULT NULL,
  PRIMARY KEY ("invoice_number")
) ;

CREATE TABLE "products" (
  "product_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "parent_product_id" int DEFAULT NULL,
  "product_name" varchar(80)  DEFAULT NULL,
  "product_price" NUMERIC(19,4) DEFAULT '0.0000',
  "product_color" varchar(50)  DEFAULT NULL,
  "product_size" varchar(50)  DEFAULT NULL,
  "product_description" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("product_id")
) ;


CREATE TABLE "customer_payment_methods" (
  "customer_id" int NOT NULL,
  "payment_method_code" varchar(10)  NOT NULL,
  CONSTRAINT "customer_payment_methods_fk_0_0" FOREIGN KEY ("customer_id") REFERENCES "customers" ("customer_id")
) ;

CREATE TABLE "orders" (
  "order_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "customer_id" int NOT NULL,
  "order_status_code" varchar(10)  NOT NULL,
  "date_order_placed" TIMESTAMP NOT NULL,
  PRIMARY KEY ("order_id"),
  CONSTRAINT "orders_fk_0_0" FOREIGN KEY ("customer_id") REFERENCES "customers" ("customer_id")
) ;

CREATE TABLE "order_items" (
  "order_item_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "product_id" int NOT NULL,
  "order_id" int NOT NULL,
  "order_item_status_code" varchar(10)  NOT NULL,
  PRIMARY KEY ("order_item_id"),
  CONSTRAINT "order_items_fk_0_0" FOREIGN KEY ("order_id") REFERENCES "orders" ("order_id"),
  CONSTRAINT "order_items_fk_1_0" FOREIGN KEY ("product_id") REFERENCES "products" ("product_id")
) ;



CREATE TABLE "shipments" (
  "shipment_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "order_id" int NOT NULL,
  "invoice_number" int NOT NULL,
  "shipment_tracking_number" varchar(80)  DEFAULT NULL,
  "shipment_date" TIMESTAMP DEFAULT NULL,
  PRIMARY KEY ("shipment_id"),
  CONSTRAINT "shipments_fk_0_0" FOREIGN KEY ("order_id") REFERENCES "orders" ("order_id"),
  CONSTRAINT "shipments_fk_1_0" FOREIGN KEY ("invoice_number") REFERENCES "invoices" ("invoice_number")
) ;



CREATE TABLE "shipment_items" (
  "shipment_id" int NOT NULL,
  "order_item_id" int NOT NULL,
  PRIMARY KEY ("shipment_id","order_item_id"),
  CONSTRAINT "shipment_items_fk_0_0" FOREIGN KEY ("order_item_id") REFERENCES "order_items" ("order_item_id"),
  CONSTRAINT "shipment_items_fk_1_0" FOREIGN KEY ("shipment_id") REFERENCES "shipments" ("shipment_id")
) ;




