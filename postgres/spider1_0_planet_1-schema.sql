CREATE TABLE "planet" (
  "planetid" INT GENERATED BY DEFAULT AS IDENTITY,
  "name" varchar(255)  NOT NULL,
  "coordinates" DOUBLE PRECISION NOT NULL,
  PRIMARY KEY ("planetid")
) ;


CREATE TABLE "client" (
  "accountnumber" INT GENERATED BY DEFAULT AS IDENTITY,
  "name" varchar(255)  NOT NULL,
  PRIMARY KEY ("accountnumber")
) ;


CREATE TABLE "employee" (
  "employeeid" INT GENERATED BY DEFAULT AS IDENTITY,
  "name" varchar(255)  NOT NULL,
  "position" varchar(255)  NOT NULL,
  "salary" DOUBLE PRECISION NOT NULL,
  "remarks" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("employeeid")
) ;


CREATE TABLE "has_clearance" (
  "employee" int NOT NULL,
  "planet" int NOT NULL,
  "level" int NOT NULL,
  PRIMARY KEY ("employee","planet"),
  CONSTRAINT "has_clearance_fk_0_0" FOREIGN KEY ("planet") REFERENCES "planet" ("planetid"),
  CONSTRAINT "has_clearance_fk_1_0" FOREIGN KEY ("employee") REFERENCES "employee" ("employeeid")
) ;

CREATE TABLE "shipment" (
  "shipmentid" INT GENERATED BY DEFAULT AS IDENTITY,
  "date" date DEFAULT NULL,
  "manager" int NOT NULL,
  "planet" int NOT NULL,
  PRIMARY KEY ("shipmentid"),
  CONSTRAINT "shipment_fk_0_0" FOREIGN KEY ("planet") REFERENCES "planet" ("planetid"),
  CONSTRAINT "shipment_fk_1_0" FOREIGN KEY ("manager") REFERENCES "employee" ("employeeid")
) ;


CREATE TABLE "package" (
  "shipment" int NOT NULL,
  "packagenumber" int NOT NULL,
  "contents" varchar(255)  NOT NULL,
  "weight" DOUBLE PRECISION NOT NULL,
  "sender" int NOT NULL,
  "recipient" int NOT NULL,
  PRIMARY KEY ("shipment","packagenumber"),
  CONSTRAINT "package_fk_0_0" FOREIGN KEY ("recipient") REFERENCES "client" ("accountnumber"),
  CONSTRAINT "package_fk_1_0" FOREIGN KEY ("sender") REFERENCES "client" ("accountnumber"),
  CONSTRAINT "package_fk_2_0" FOREIGN KEY ("shipment") REFERENCES "shipment" ("shipmentid")
) ;





