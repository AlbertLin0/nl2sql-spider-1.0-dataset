
CREATE TABLE "collection_subsets" (
  "collection_subset_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "collection_subset_name" varchar(255)  NOT NULL,
  "collecrtion_subset_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("collection_subset_id")
) ;


CREATE TABLE "collections" (
  "collection_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "parent_collection_id" int DEFAULT NULL,
  "collection_name" varchar(255)  DEFAULT NULL,
  "collection_description" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("collection_id")
) ;


CREATE TABLE "document_objects" (
  "document_object_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "parent_document_object_id" int DEFAULT NULL,
  "owner" varchar(255)  DEFAULT NULL,
  "description" varchar(255)  DEFAULT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("document_object_id")
) ;

CREATE TABLE "document_subsets" (
  "document_subset_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "document_subset_name" varchar(255)  NOT NULL,
  "document_subset_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("document_subset_id")
) ;



CREATE TABLE "collection_subset_members" (
  "collection_id" int NOT NULL,
  "related_collection_id" int NOT NULL,
  "collection_subset_id" int NOT NULL,
  PRIMARY KEY ("collection_id","related_collection_id"),
  CONSTRAINT "collection_subset_members_fk_0_0" FOREIGN KEY ("collection_subset_id") REFERENCES "collection_subsets" ("collection_subset_id"),
  CONSTRAINT "collection_subset_members_fk_1_0" FOREIGN KEY ("related_collection_id") REFERENCES "collections" ("collection_id"),
  CONSTRAINT "collection_subset_members_fk_2_0" FOREIGN KEY ("collection_id") REFERENCES "collections" ("collection_id")
) ;


CREATE TABLE "document_subset_members" (
  "document_object_id" int NOT NULL,
  "related_document_object_id" int NOT NULL,
  "document_subset_id" int NOT NULL,
  PRIMARY KEY ("document_object_id","related_document_object_id"),
  CONSTRAINT "document_subset_members_fk_0_0" FOREIGN KEY ("document_subset_id") REFERENCES "document_subsets" ("document_subset_id"),
  CONSTRAINT "document_subset_members_fk_1_0" FOREIGN KEY ("related_document_object_id") REFERENCES "document_objects" ("document_object_id"),
  CONSTRAINT "document_subset_members_fk_2_0" FOREIGN KEY ("document_object_id") REFERENCES "document_objects" ("document_object_id")
) ;



CREATE TABLE "documents_in_collections" (
  "document_object_id" int NOT NULL,
  "collection_id" int NOT NULL,
  PRIMARY KEY ("document_object_id","collection_id"),
  CONSTRAINT "documents_in_collections_fk_0_0" FOREIGN KEY ("collection_id") REFERENCES "collections" ("collection_id"),
  CONSTRAINT "documents_in_collections_fk_1_0" FOREIGN KEY ("document_object_id") REFERENCES "document_objects" ("document_object_id")
) ;


