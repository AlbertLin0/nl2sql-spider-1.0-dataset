
CREATE TABLE "authors" (
  "author_name" varchar(255)  NOT NULL,
  "other_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("author_name")
) ;


CREATE TABLE "business_processes" (
  "process_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "next_process_id" int DEFAULT NULL,
  "process_name" varchar(255)  NOT NULL,
  "process_description" varchar(255)  NOT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("process_id")
) ;


CREATE TABLE "process_outcomes" (
  "process_outcome_code" char(15)  NOT NULL,
  "process_outcome_description" varchar(255)  NOT NULL,
  PRIMARY KEY ("process_outcome_code")
) ;


CREATE TABLE "process_status" (
  "process_status_code" char(15)  NOT NULL,
  "process_status_description" varchar(255)  NOT NULL,
  PRIMARY KEY ("process_status_code")
) ;


CREATE TABLE "ref_staff_roles" (
  "staff_role_code" char(15)  NOT NULL,
  "staff_role_description" varchar(255)  NOT NULL,
  PRIMARY KEY ("staff_role_code")
) ;


CREATE TABLE "staff" (
  "staff_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "staff_details" varchar(255)  NOT NULL,
  PRIMARY KEY ("staff_id")
) ;



CREATE TABLE "documents" (
  "document_id" INT GENERATED BY DEFAULT AS IDENTITY,
  "author_name" varchar(255)  NOT NULL,
  "document_name" varchar(255)  NOT NULL,
  "document_description" varchar(255)  NOT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("document_id"),
  CONSTRAINT "documents_fk_0_0" FOREIGN KEY ("author_name") REFERENCES "authors" ("author_name")
) ;


CREATE TABLE "documents_processes" (
  "document_id" int NOT NULL,
  "process_id" int NOT NULL,
  "process_outcome_code" char(15)  NOT NULL,
  "process_status_code" char(15)  NOT NULL,
  PRIMARY KEY ("document_id","process_id"),
  CONSTRAINT "documents_processes_fk_0_0" FOREIGN KEY ("process_status_code") REFERENCES "process_status" ("process_status_code"),
  CONSTRAINT "documents_processes_fk_1_0" FOREIGN KEY ("process_outcome_code") REFERENCES "process_outcomes" ("process_outcome_code"),
  CONSTRAINT "documents_processes_fk_2_0" FOREIGN KEY ("process_id") REFERENCES "business_processes" ("process_id"),
  CONSTRAINT "documents_processes_fk_3_0" FOREIGN KEY ("document_id") REFERENCES "documents" ("document_id")
) ;



CREATE TABLE "staff_in_processes" (
  "document_id" int NOT NULL,
  "process_id" int NOT NULL,
  "staff_id" int NOT NULL,
  "staff_role_code" char(15)  NOT NULL,
  "date_from" TIMESTAMP DEFAULT NULL,
  "date_to" TIMESTAMP DEFAULT NULL,
  "other_details" varchar(255)  DEFAULT NULL,
  PRIMARY KEY ("document_id","process_id","staff_id"),
  CONSTRAINT "staff_in_processes_fk_0_0" FOREIGN KEY ("staff_role_code") REFERENCES "ref_staff_roles" ("staff_role_code"),
  CONSTRAINT "staff_in_processes_fk_1_0" FOREIGN KEY ("document_id", "process_id") REFERENCES "documents_processes" ("document_id", "process_id"),
  CONSTRAINT "staff_in_processes_fk_2_0" FOREIGN KEY ("staff_id") REFERENCES "staff" ("staff_id")
) ;


